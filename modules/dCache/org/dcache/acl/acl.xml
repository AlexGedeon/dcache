<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
">

    <bean id="properties" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <description>Imported configuration data</description>
        <property name="location" value="domaincontext:"/>
        <property name="properties">
            <value>
                aclConnDriver=aclConnDriver
                aclConnUrl=aclConnUrl
                aclConnUser=aclConnUser
                aclConnPswd=aclConnPswd
                pnfsManager=PnfsManager
                pnfsManagerTimeout=28000
            </value>
        </property>
    </bean>

    <bean id="pnfs" class="diskCacheV111.util.PnfsHandler">
        <description>PNFS manager client module</description>
        <constructor-arg>
            <bean class="dmg.cells.nucleus.CellPath">
                <constructor-arg value="${pnfsManager}"/>
            </bean>
        </constructor-arg>
    </bean>

    <bean id="acl-config" class="org.dcache.acl.config.AclConfig">
        <constructor-arg>
            <props>
                <prop key="aclConnDriver">${aclConnDriver}</prop>
                <prop key="aclConnUrl">${aclConnUrl}</prop>
                <prop key="aclConnUser">${aclConnUser}</prop>
                <prop key="aclConnPswd">${aclConnPswd}</prop>
            </props>
        </constructor-arg>
    </bean>

    <bean id="acl-handler" class="org.dcache.acl.handler.DefaultACLHandler">
        <constructor-arg ref="acl-config"/>
    </bean>

    <bean id="acl-cell" class="org.dcache.acl.AclCell">
        <property name="pnfsHandler" ref="pnfs"/>
        <property name="aclHandler" ref="acl-handler"/>
    </bean>
</beans>
